# 扩展功能模块（App 模块）

## 生成应用封面图（预览图）模块

> 主要就是在首页的应用展示界面，需要将应用的实际运行图作为其封面图。

### 流程

1. 用户部署应用，获取可访问的URL
2. 异步触发应用封面生成
3. 使用 [Selenium](https://www.selenium.dev/zh-cn/documentation/) 无头浏览器访问应用页面
4. 获取页面截图
5. 图片压缩优化等
6. 上传至存储桶
7. 更新数据库字段
8. 清理本地临时文件

### 本地下载驱动（注意版本，pom 依赖和 chrome）
1. 打开 chrome 浏览器的设置界面，进入网址：chrome://version/ 查看浏览器版本号
2. 在 https://googlechromelabs.github.io/chrome-for-testing/ 下载对应版本的驱动
3. 在 resources 包下创建 web_drivers 包，移入下载并解压后chromedriver.exe
>浏览器版本：Google Chrome	143.0.7499.170 (正式版本) （64 位） (cohort: Stable)
>驱动版本：chromedriver	win64	https://storage.googleapis.com/chrome-for-testing-public/143.0.7499.169/win64/chromedriver-win64.zip

## 下载应用代码模块

> 用户在生成或浏览其他应用时，发现符合自己需求的可以下载代码到本地再进行二次开发等。

### 流程

1. 基础的参数校验
2. 找到对应的应用生成目录 code_output
3. 过滤部分文件，如 node_modules 等
4. 压缩打包，并返回下载链接文件 zip





